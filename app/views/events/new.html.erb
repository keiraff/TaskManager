<h1>New Event</h1>

<div class="d-inline-flex mx-auto">
  <%= form_with model: @event, url: events_url do |f| %>
    <div class="mb-3 d-flex">
      <div>
        <%= f.check_box :all_day, class: "form-check-input me-2" %>
      </div>
      <%= f.label :all_day, "All-day", class: "form-check-label" %>
    </div>
    <div class="mb-3">
      <%= f.label :name, class: "form-label" %>
      <%= f.text_field :name, placeholder: "Name", class: "form-control" %>
      <small class="text-danger">
        <%= @event.errors.messages_for(:name).join(", ") if @event.errors.any? %>
      </small>
    </div>
    <div class="mb-3">
      <%= f.label :description, class: "form-label" %>
      <%= f.text_area :description, placeholder: "Please enter description", class: "form-control" %>
    </div>
    <div class="mb-3">
      <%= f.label :starts_at, class: "form-label" %>
      <%= f.datetime_select :starts_at, class: "form-control" %>
      <small class="text-danger">
        <%= @event.errors.messages_for(:starts_at).join(", ") if @event.errors.any? %>
      </small>
    </div>
    <div class="mb-3">
      <div class="input-group d-flex">
        <%= f.label :category_id, "Category:", class: "input-group-text" %>
        <%= f.select :category_id, options_for_select(current_user.categories.order(:name).map { |category| [category.name, category.id] }, :selected => @event.category_id), { include_blank: true }, { class: "form-select" } %>
      </div>
      <small class="text-danger">
        <%= @event.errors.messages_for(:category_id).join(", ") if @event.errors.any? %>
      </small>
    </div>
    <%= f.submit "Create Event", class: "btn btn-primary" %>
  <% end %>
</div>
